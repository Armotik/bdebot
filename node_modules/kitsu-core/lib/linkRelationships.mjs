import{deattribute as t}from"./deattribute.mjs";import"./error.mjs";import{filterIncludes as r}from"./filterIncludes.mjs";function e({id:e,type:i,meta:o},s){const a=r(s,{id:e,type:i});return a.relationships&&n(a,s),o&&(a.meta=o),t(a)}function i(t,r,i){t[i]=[];for(const o of t.relationships[i].data)t[i].push(e(o,r))}function o(t,r,i){t[i]=e(t.relationships[i].data,r),delete t[i].relationships}function n(t,r){const{relationships:e}=t;let n=!1;for(const s in e)e[s].data&&Array.isArray(e[s].data)?(i(t,r,s),n=!0):e[s].data&&(o(t,r,s),n=!0);return n&&delete t.relationships,t}export{n as linkRelationships};
