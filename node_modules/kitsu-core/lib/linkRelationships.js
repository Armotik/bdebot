"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./deattribute.js");require("./error.js");var t=require("./filterIncludes.js");function r({id:r,type:i,meta:s},n){const o=t.filterIncludes(n,{id:r,type:i});return o.relationships&&a(o,n),s&&(o.meta=s),e.deattribute(o)}function i(e,t,i){e[i]=[];for(const s of e.relationships[i].data)e[i].push(r(s,t))}function s(e,t,i){e[i]=r(e.relationships[i].data,t),delete e[i].relationships}function a(e,t){const{relationships:r}=e;let a=!1;for(const n in r)r[n].data&&Array.isArray(r[n].data)?(i(e,t,n),a=!0):r[n].data&&(s(e,t,n),a=!0);return a&&delete e.relationships,e}exports.linkRelationships=a;
